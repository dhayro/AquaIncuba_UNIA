$(document).ready(function(){var n=new Date,v=String(n.getDate()).padStart(2,"0"),p=String(n.getMonth()+1).padStart(2,"0"),b=n.getFullYear(),n=p+"/"+v+"/"+b;$(".current-recent-mail").text(n+" -"),new PerfectScrollbar(".message-box-scroll"),new PerfectScrollbar(".mail-sidebar-scroll",{suppressScrollX:!0});function u(){$(".mailbox-inbox .collapse").each(function(){new PerfectScrollbar($(this)[0],{suppressScrollX:!0})})}u();function s(e){var t=e;$(".mail-item");var i=$(".mail-item.mailInbox"),a=$('[id*="unread-"]'),o=$(".mail-item.draft");i.length;var c=a.length,d=o.length,m=$("#mailInbox .mail-badge"),h=$("#draft .mail-badge");if(t==="mailInbox"){if(c===0){m.text("");return}m.text(c)}else if(t==="draftmail"){if(d===0){h.text("");return}h.text(d)}}s("mailInbox"),s("draftmail"),$("#btn-compose-mail").on("click",function(e){$("#btn-send").show(),$("#btn-reply").hide(),$("#btn-fwd").hide(),$("#composeMailModal").modal("show"),$("#btn-save").show(),$("#btn-reply-save").hide(),$("#btn-fwd-save").hide()}),document.getElementById("inboxAll").addEventListener("click",function(){var e=document.querySelectorAll(".tab-title .list-actions.active"),t="."+e[0].id;if(e[0].id==="personal"||e[0].id==="work"||e[0].id==="social"||e[0].id==="private"){let a=document.querySelectorAll(t);for(var i=0;i<a.length;i++){a[i].parentNode.parentNode.parentNode;let o=document.querySelectorAll("."+a[i].parentNode.parentNode.parentNode.className.split(" ")[0]+" "+t+" .inbox-chkbox");o[i].checked?o[i].checked=!1:this.checked&&(o[i].checked=!0)}}else{let a=document.querySelectorAll(".mail-item"+t+" .inbox-chkbox");for(var i=0;i<a.length;i++)a[i].checked?a[i].checked=!1:this.checked&&(a[i].checked=!0)}}),$(".input-search").on("keyup",function(){var e=new RegExp($(this).val(),"i");$(".message-box .mail-item").hide(),$(".message-box .mail-item").filter(function(){return e.test($(this).text())}).show()}),$('[data-toggle="tooltip"]').tooltip({template:'<div class="tooltip actions-btn-tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'}),$(".close-message").on("click",function(e){e.preventDefault(),$(".content-box .collapse").collapse("hide"),$(this).parents(".content-box").css({width:"0",left:"auto",right:"-46px"})}),$(".mail-menu").on("click",function(e){$(this).parents(".mail-box-container").children(".tab-title").addClass("mail-menu-show"),$(this).parents(".mail-box-container").children(".mail-overlay").addClass("mail-overlay-show")}),$(".mail-overlay").on("click",function(e){$(this).parents(".mail-box-container").children(".tab-title").removeClass("mail-menu-show"),$(this).removeClass("mail-overlay-show")});function f(){$(".content-box .collapse").on("show.bs.collapse",function(e){var t=this.id,i=$(".content-box").find(".mail-title"),a=$(this).find(".mail-content").attr("data-mailTitle");$(this).parent(".content-box").css({width:"100%",left:"0",right:"100%"}),$(this).parents("#mailbox-inbox").find('.message-box [data-target="#'+t+'"]').parents(".mail-item").removeAttr("id"),i.text(a),i.attr("data-selectedMailTitle",a),s("mailInbox")})}function g(){$(".mail-item-heading .mail-item-inner .new-control, .mail-item-heading .mail-item-inner .new-control-input").on("click",function(e){e.stopPropagation(),console.log("sdfsf"),e.isPropagationStopped?(console.log("yes"),console.timeLog(),console.log(e)):console.log("no")})}new Quill("#editor-container",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:"Compose an epic...",theme:"snow"});var l=document.getElementsByClassName("validation-text"),r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;document.getElementById("m-to").addEventListener("input",function(){let e=this.value;e==""?(l[0].innerHTML="Email Required",l[0].style.display="block"):r.test(e)==!1?(l[0].innerHTML="Invalid Email",l[0].style.display="block"):l[0].style.display="none"}),document.getElementById("m-cc").addEventListener("input",function(){let e=this.value;!e==""&&r.test(e)==!1?(l[1].innerHTML="Invalid Email",l[1].style.display="block"):l[1].style.display="none"}),document.getElementById("m-subject").addEventListener("input",function(){this.value==""?(l[2].innerHTML="Subject Required",l[2].style.display="block"):l[2].style.display="none"});var x=$(".list-actions").click(function(){$(this).parents(".mail-box-container").find(".mailbox-inbox > .content-box").css({width:"0",left:"auto",right:"-46px"}),$(".content-box .collapse").collapse("hide");var e=$(this).parents(".mail-box-container").find(".action-center");if(this.id=="mailInbox"){let t=$("."+this.id).show();e.removeClass("tab-trash-active"),$("#ct > div").not(t).hide()}else if(this.id=="personal"){let t="."+$(this).attr("id");$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide()}else if(this.id=="work"){let t="."+$(this).attr("id");$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide()}else if(this.id=="social"){let t="."+$(this).attr("id");$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide()}else if(this.id=="private"){let t="."+$(this).attr("id");$(t).show(),e.removeClass("tab-trash-active"),$("#ct > div .mail-item-heading"+t).parents(".mail-item").show(),$("#ct > div .mail-item-heading").not(t).parents(".mail-item").hide(),e.removeClass("tab-trash-active")}else if(this.id=="trashed"){let t=$("."+this.id).show();e.addClass("tab-trash-active"),$("#ct > div").not(t).hide()}else{let t=$("."+this.id).show();e.removeClass("tab-trash-active"),$("#ct > div").not(t).hide()}x.removeClass("active"),$(this).addClass("active")});setTimeout(function(){$(".list-actions#mailInbox").trigger("click")},10);function w(){$(".reply").on("click",function(e){$("#btn-reply").show(),$("#btn-send").hide(),$("#btn-fwd").hide(),$("#btn-reply-save").show(),$("#btn-fwd-save").hide(),$("#btn-save").hide(),$("#composeMailModal").modal("show")})}function y(){$(".forward").on("click",function(e){$("#btn-fwd").show(),$("#btn-reply").hide(),$("#btn-send").hide(),$("#btn-fwd-save").show(),$("#btn-reply-save").hide(),$("#btn-save").hide(),$("#composeMailModal").modal("show")})}w(),y(),f(),g(),$(".tab-title .nav-pills a.nav-link").on("click",function(e){$(this).parents(".mail-box-container").find(".tab-title").removeClass("mail-menu-show"),$(this).parents(".mail-box-container").find(".mail-overlay").removeClass("mail-overlay-show")})});
